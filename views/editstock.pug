extends layout2.pug

block content
  // Main wrapper
  div(style="width: 100%; height: 100vh; display: flex; flex-direction: row;")

    // Sidebar (25%)
    div(style="width: 25%; height: 100%;")
      include includes/sidebar.pug

    // Main content (75%)
    div(style="width: 75%; padding: 20px; overflow:hidden;")
      h2.mb-4.text-center Edit Stock Form
      form#stockForm(action=`/editstock/${item._id}?_method=PUT`, method='post')
        .row.g-3
          .col-md-6
            label.form-label(for='productName') Product Name
            select#productName.form-select(name='productName' required='')
              option(value=`${item.productName}` selected) #{item.productName}
              option(value='Timber') Timber
              option(value='Pole') Pole
              option(value='Hardwood') Hardwood
              option(value='Softwood') Softwood
              option(value='Bed') Bed
              option(value='Sofa') Sofa
              option(value='Chair') Chair
              option(value='Tables') Tables
              option(value='Cupboards') Cupboards
              option(value='Office Chairs') Office Chairs
              option(value='Dining Tables') Dining Tables

          .col-md-6
            label.form-label(for='productType') Type of Product
            select#productType.form-select(name='productType' required='')
              option(value=`${item.productType}` selected) #{item.productType}
              option(value='Wood') Wood
              option(value='Furniture') Furniture

          .col-md-4
            label.form-label(for='quantity') Quantity
            input#quantity.form-control(
              type='number' 
              name='quantity' 
              min='1' 
              placeholder='Enter quantity' 
              value=`${item.quantity}` 
              required=''
            )

          .col-md-4
            label.form-label(for='costPrice') Cost Price (UGX)
            input#costPrice.form-control(
              type='number' 
              name='costPrice' 
              placeholder='Enter cost price' 
              value=`${item.costPrice}` 
              required=''
            )

          .col-md-4
            label.form-label(for='productPrice') Product Price (UGX)
            input#productPrice.form-control(
              type='number' 
              name='productPrice' 
              value=`${item.productPrice}` 
              readonly
            )

          .col-md-6
            label.form-label(for='supplierName') Supplier Name
            select#supplierName.form-select(name='supplierName' required='')
              option(value=`${item.supplierName}` selected) #{item.supplierName}
              if suppliers && suppliers.length
                each supplier in suppliers
                  if supplier.supplierName !== item.supplierName
                    option(
                      value=supplier.supplierName 
                      data-phone=supplier.phoneNumber
                    )= supplier.supplierName

          .col-md-6
            label.form-label(for='dateBought') Date
            input#dateBought.form-control(
              type='date' 
              name='dateBought' 
              value=`${moment(item.dateBought).format("YYYY-MM-DD")}` 
              required=''
            )

          .col-md-6
            label.form-label(for='quality') Quality
            select#quality.form-select(name='quality' required='')
              option(value=`${item.quality}` selected) #{item.quality}
              option(value='High') High
              option(value='Medium') Medium
              option(value='Low') Low

          .col-md-6
            label.form-label(for='color') Color
            select#color.form-select(name='color' required='')
              option(value=`${item.color}` selected) #{item.color}
              optgroup(label='Raw Materials')
                option(value='Natural') Natural
                option(value='Light Brown') Light Brown
                option(value='Dark Brown') Dark Brown
                option(value='Beige') Beige
                option(value='Oak') Oak
                option(value='Mahogany') Mahogany
                option(value='Walnut') Walnut
                option(value='Cherry') Cherry
                option(value='Pine') Pine
                option(value='Maple') Maple
              optgroup(label='Furniture')
                option(value='White') White
                option(value='Black') Black
                option(value='Gray') Gray
                option(value='Brown') Brown
                option(value='Beige') Beige
                option(value='Mahogany') Mahogany
                option(value='Oak') Oak
                option(value='Cherry') Cherry
                option(value='Teak') Teak
                option(value='Espresso') Espresso

          .col-md-6
            label.form-label(for='measurements') Measurements
            input#measurements.form-control(
              type='text' 
              name='measurements'  
              value=`${item.measurements}` 
              placeholder='Enter 200cm x 150cm x 90cm'
            )

          .col-md-6
            label.form-label(for='supplierPhone') Supplier Phone Number
            select#supplierPhone.form-select(name='phoneNumber' required='')
              option(value=`${item.phoneNumber}` selected) #{item.phoneNumber}
              if suppliers && suppliers.length
                each supplier in suppliers
                  if supplier.phoneNumber !== item.phoneNumber    
                    option(
                      value=supplier.phoneNumber 
                      data-id=supplier.supplierName
                    )= supplier.phoneNumber

          .col-12
            button.btn.btn-dark(type='submit') Update Stock

        footer.text-center.text-muted.mt-5.mb-3
          | Â© 2025 MWF Ltd. All rights reserved.

  // Scripts
  script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js')
  script(src='js/stock.js')
